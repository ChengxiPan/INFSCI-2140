1. Quick Start
    Environment: conda 24.1.2, Python 3.12.3
    Command: 
        - python3 main.py
    Estimated Time to Run: <1 min

2. Terminal Output
    You can also see it in output.txt

    901      ['hong', 'kong', 'econom', 'singapor']
    901  Q0  XIE19970621.0096   1   0.5330021198148287  MYRUN
    901  Q0  XIE19970709.0206   2   0.5322539489413222  MYRUN
    901  Q0  XIE19960430.0151   3   0.5318498030750695  MYRUN
    901  Q0  XIE19960508.0140   4   0.5283858243123881  MYRUN
    901  Q0  XIE19960524.0147   5   0.5282393492371265  MYRUN
    901  Q0  XIE19960904.0319   6   0.5279555055246453  MYRUN
    901  Q0  XIE19971017.0205   7   0.527726246420966  MYRUN
    901  Q0  XIE19971203.0274   8   0.527726246420966  MYRUN
    901  Q0  XIE19970623.0142   9   0.5275806232666519  MYRUN
    901  Q0  XIE19971111.0159   10   0.5272141394375396  MYRUN
    901  Q0  XIE19971111.0510   11   0.5272141394375396  MYRUN
    901  Q0  XIE19970827.0020   12   0.5268283500872438  MYRUN
    901  Q0  XIE19960531.0058   13   0.5267030253905813  MYRUN
    901  Q0  XIE19970826.0057   14   0.5267030253905813  MYRUN
    901  Q0  XIE19971012.0103   15   0.5263203188914027  MYRUN
    901  Q0  XIE19960716.0181   16   0.5260165182206682  MYRUN
    901  Q0  XIE19970110.0094   17   0.52588808762356  MYRUN
    901  Q0  XIE19960514.0138   18   0.5254376336275847  MYRUN
    901  Q0  XIE19970421.0168   19   0.525127033951167  MYRUN
    901  Q0  XIE19960531.0092   20   0.5249345818002724  MYRUN
    902      ['homosexu', 'accept', 'europ']
    902  Q0  XIE19960828.0241   1   0.17217256015880766  MYRUN
    902  Q0  XIE19960824.0228   2   0.1718196381042414  MYRUN
    902  Q0  XIE19960127.0031   3   0.1698993056524463  MYRUN
    902  Q0  XIE19960122.0067   4   0.1698449975319269  MYRUN
    902  Q0  XIE19960117.0259   5   0.1697624683786072  MYRUN
    902  Q0  XIE19970923.0117   6   0.1697624683786072  MYRUN
    902  Q0  NYT20000513.0028   7   0.1696800193895938  MYRUN
    902  Q0  XIE19970709.0214   8   0.1694251256881884  MYRUN
    902  Q0  XIE19970201.0163   9   0.16932780390349528  MYRUN
    902  Q0  XIE19960107.0268   10   0.16926897283099498  MYRUN
    902  Q0  XIE19960217.0160   11   0.16926897283099498  MYRUN
    902  Q0  XIE19971007.0254   12   0.16926897283099498  MYRUN
    902  Q0  XIE19970129.0238   13   0.1692464745068077  MYRUN
    902  Q0  XIE19970528.0226   14   0.16918700238410345  MYRUN
    902  Q0  XIE19960910.0182   15   0.16917970059061982  MYRUN
    902  Q0  XIE19961024.0031   16   0.1691051112890482  MYRUN
    902  Q0  XIE19960229.0020   17   0.16909805015597185  MYRUN
    902  Q0  XIE19971009.0155   18   0.1690232994306597  MYRUN
    902  Q0  XIE19970325.0118   19   0.16869684206816687  MYRUN
    902  Q0  XIE19961119.0148   20   0.16860420341802956  MYRUN
    903      ['star', 'trek', 'gener']
    903  Q0  NYT19990105.0256   1   0.6098990813345114  MYRUN
    903  Q0  NYT19990628.0345   2   0.6098990813345114  MYRUN
    903  Q0  XIE19960316.0173   3   0.6060314286236097  MYRUN
    903  Q0  NYT19990402.0349   4   0.6060314286236097  MYRUN
    903  Q0  XIE19960515.0240   5   0.6051458493319044  MYRUN
    903  Q0  NYT20000722.0035   6   0.6051458493319044  MYRUN
    903  Q0  XIE19961209.0183   7   0.6050435176050607  MYRUN
    903  Q0  NYT19991003.0483   8   0.604839450548033  MYRUN
    903  Q0  XIE19960101.0088   9   0.6044552399992221  MYRUN
    903  Q0  XIE19971008.0311   10   0.6042628544155642  MYRUN
    903  Q0  XIE19971122.0036   11   0.6039690951280505  MYRUN
    903  Q0  XIE19960323.0096   12   0.603776473092607  MYRUN
    903  Q0  XIE19971022.0251   13   0.6031819819090644  MYRUN
    903  Q0  XIE19970526.0206   14   0.6027969086261038  MYRUN
    903  Q0  XIE19970809.0055   15   0.6027969086261038  MYRUN
    903  Q0  XIE19970817.0127   16   0.6025045725889427  MYRUN
    903  Q0  XIE19971002.0150   17   0.6025045725889427  MYRUN
    903  Q0  NYT19980918.0296   18   0.6022125199604459  MYRUN
    903  Q0  XIE19960522.0187   19   0.6022125199604459  MYRUN
    903  Q0  NYT19980902.0355   20   0.6021403917639516  MYRUN
    904      ['progress']
    904  Q0  XIE19970302.0144   1   0.058382109971163706  MYRUN
    904  Q0  XIE19961105.0192   2   0.05715330035998393  MYRUN
    904  Q0  NYT19990309.0076   3   0.05689773600879205  MYRUN
    904  Q0  NYT19990309.0077   4   0.05689773600879205  MYRUN
    904  Q0  NYT19990310.0198   5   0.05689773600879205  MYRUN
    904  Q0  NYT19990310.0199   6   0.05689773600879205  MYRUN
    904  Q0  XIE19961013.0085   7   0.056869651270683025  MYRUN
    904  Q0  XIE19971225.0050   8   0.05684510139289195  MYRUN
    904  Q0  XIE19960105.0012   9   0.056823921235406555  MYRUN
    904  Q0  XIE19961010.0123   10   0.05670698001321696  MYRUN
    904  Q0  XIE19970308.0194   11   0.05668984063466813  MYRUN
    904  Q0  XIE19970429.0008   12   0.05667009485959654  MYRUN
    904  Q0  XIE19961105.0131   13   0.05666843760945103  MYRUN
    904  Q0  XIE19970110.0135   14   0.056533408668425295  MYRUN
    904  Q0  NYT19980814.0443   15   0.05650359038577221  MYRUN
    904  Q0  NYT19980814.0444   16   0.05650359038577221  MYRUN
    904  Q0  NYT19980814.0445   17   0.05650359038577221  MYRUN
    904  Q0  NYT19980814.0446   18   0.05650359038577221  MYRUN
    904  Q0  XIE19970609.0016   19   0.05647564597905323  MYRUN
    904  Q0  XIE19960617.0177   20   0.05639197835538056  MYRUN
    time to load index & retrieve the token:  0:00:57.584739

3. File Structure and Description
    src
    ├── Classes
    │   ├── Document.py: Basic class for Document
    │   ├── Path.py
    │   ├── Query.py: Basic class for Query
    ├── IndexingWithWhoosh
    │   ├── MyIndexReader.py: Read index and retrieve the token
    │   ├── MyIndexWriter.py: Write index
    │   ├── PreProcessedCorpusReader.py
    ├── Search
    │   ├── ExtractQuery.py: Extract query from topics.txt
    │   ├── QueryRetreivalModel.py: Implement the query retrieval model
    ├── data
    │   ├── indextext
    │   │   ├── MAIN_WRITELOCK
    │   │   ├── MAIN_olgy2cnsvua86in6.seg
    │   │   └── _MAIN_1.toc
    │   ├── indexweb
    │   │   ├── MAIN_WRITELOCK
    │   │   ├── MAIN_drfwmld53wlmbw1p.seg
    │   │   └── _MAIN_1.toc
    │   ├── result.trectext
    │   ├── result.trecweb
    │   ├── stopwords.txt
    │   └── topics.txt
    ├── main.py
    └── output.txt


3. Implementation Details

    a. task1
    In this section I completed ExtractQuery.py.
    Queries are extracted and preprocessed from TREC style topic file topics.txt. Topics are behind the <title> tag and queryid are in the <num> tag.

    b. task2
    In this section I completed QueryRetreivalModel.py
    The function retrieveQuery is implemented to retrieve the top N documents for a given query:
    Input: A Query object and topN, the number of top documents to retrieve.
    Tokenizes and normalizes the query.
    Initializes a score dictionary to store document scores.
    Uses a Dirichlet smoothing formula with a parameter mu (set to 2000) to calculate the score for each document based on term frequencies and collection probabilities.
    Output: Returns a list of Document objects, sorted by their relevance scores.

    μ can be set in QueryRetreivalModel.py, called mu. In my work I set μ = 1800
    Reasons:
        - Avoiding Zero Probabilities: A μ value of 1800 provides enough smoothing to prevent the assignment of zero probability to terms that do not appear in the training set, which is crucial for handling rare or unseen terms like "Dysphagia" in the test topics.
        - Data Dependency: While ensuring smoothing, μ = 1800 is not excessively large, which allows the model to still rely on the actual term frequencies from the collection, preserving the specificity of the data.

